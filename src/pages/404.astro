---
import Layout from '../layouts/Layout.astro';

const errorInfo = {
  requestUrl: Astro.url.pathname,
  // troubleshooting TODO
  //  clientAddress: Astro.clientAddress ?? 'Not available in static mode',
  // const headers = Astro.request.headers;`
  // const referer = Astro.site ? headers.get('referer') : 'Not available in static mode';
  referer: Astro.request.headers.get('referer') || 'Not available',
  userAgent: Astro.request.headers.get('user-agent') || 'Not available',
};
---

<Layout
  title='Page Not Found | Brady Clarke'
  description="The page you're looking for doesn't exist."
>
  <div
    class='flex min-h-screen flex-col items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 p-4 text-white'
  >
    <div class='w-full max-w-md overflow-hidden rounded-lg bg-white shadow-xl'>
      <div class='p-6 sm:p-8'>
        <h1 class='mb-4 text-3xl font-bold text-gray-800'>Oh no!</h1>
        <p class='mb-6 text-gray-600'>
          It looks like you've tried to go to a page that doesn't exist. I'm sorry.
        </p>
        <div class='mb-6 rounded-lg bg-gray-100 p-4'>
          <h2 class='mb-2 text-lg font-semibold text-gray-700'>Error Details</h2>
          <ul class='text-sm text-gray-600'>
            {
              Object.entries(errorInfo).map(([key, value]) => (
                <li class='mb-1'>
                  <span class='font-medium'>{key}:</span> {value}
                </li>
              ))
            }
          </ul>
        </div>
        <div class='flex flex-col gap-4 sm:flex-row'>
          <a
            href='/'
            class='flex-1 rounded bg-blue-500 px-4 py-2 text-center font-bold text-white transition duration-300 ease-in-out hover:bg-blue-600'
          >
            Go Home
          </a>
          <button
            onclick='window.history.back()'
            class='flex-1 rounded bg-gray-300 px-4 py-2 font-bold text-gray-800 transition duration-300 ease-in-out hover:bg-gray-400'
          >
            Go Back
          </button>
        </div>
      </div>
    </div>
    <p class='mt-8 text-sm text-white opacity-75'>
      If this error persists, please <a
        href='mailto:brady@bradyclarke.com'
        class='underline hover:text-white'>contact me</a
      >.
    </p>
  </div>
</Layout>
